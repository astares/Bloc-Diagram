Unit tests for the ruler